<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org">

<div class="container" th:fragment="header-div">
    <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-3 mb-4 border-bottom">
        <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0 align-items-center">
            <li id="mem" class="d-none"><img class="rounded-3" src="/static/header-name.png" style="height: 75px; width: 75px"/></li>
            <li><a th:href="@{/main}" class="nav-link px-2 link-primary">Главное меню</a></li>
            <li class="list-group-item d-flex justify-content-between align-items-start" th:if="${false}">
                <div class="ms-2 me-auto">
                    <div class="fw-bold"><a href="/messenger?tab=new-orders" class="nav-link px-2" >Старый Мессенджер</a></div>
                </div>
                <span class="badge text-bg-primary rounded-pill" th:if="@{__${@newMsgCount.newMessageCount() > 0}__}" th:text="@{__${@newMsgCount.newMessageCount()}__}"></span>
            </li>
            <li class="list-group-item d-flex justify-content-between align-items-start">
                <div class="ms-2 me-auto">
                    <div class="fw-bold"><a href="/new-messenger?tab=new-orders" class="nav-link px-2" >Мессенджер</a></div>
                </div>
                <span class="badge text-bg-primary rounded-pill" th:if="@{__${@newMsgCount.newMessageCount() > 0}__}" th:text="@{__${@newMsgCount.newMessageCount()}__}"></span>
            </li>
            <li><a class="nav-link px-2 link-primary" href="/push-subscription">Уведомления</a></li>
        </ul>
        <div class="col-md-5 text-end d-flex justify-content-end">
            <!--/*@thymesVar id="userShort" type="by.forward.forward_system.core.dto.ui.UserShortUiDto"*/-->
            <a th:href="@{/info}" class="btn" th:text="${userShort.getUsername()} + | (| + ${(userShort.getRolesRus())} + |)|"></a>
            <a th:href="@{/logout}" class="btn btn-primary align-self-center">Выйти</a>
        </div>
    </header>

    <script>
        let mem = document.getElementById("mem");

        function getRandomInt(max) {
            return Math.floor(Math.random() * max);
        }

        let random = getRandomInt(100);

        if (random < 5) {
            mem.classList.remove("d-none");
        }
    </script>
</div>